import{m as _,N as F,q as N,ab as J,n as M,aE as q,E as h,f as L,aF as I,aG as P,ac as x,aH as W,aI as R,aJ as T,aK as D,aL as G,G as K,aM as j,aN as k,k as z,p as B}from"#entry";function ee(e={}){const{inheritAttrs:t=!0}=e,u=h(),p=L({setup(r,{slots:d}){return()=>{u.value=d.default}}}),c=L({inheritAttrs:t,props:e.props,setup(r,{attrs:d,slots:n}){return()=>{var l;u.value;const o=(l=u.value)==null?void 0:l.call(u,{...e.props==null?H(d):r,$slots:n});return t&&o?.length===1?o[0]:o}}});return I({define:p,reuse:c},[p,c])}function H(e){const t={};for(const u in e)t[W(u)]=e[u];return t}const U=R?window:void 0,V=R?window.navigator:void 0;function Q(e){var t;const u=x(e);return(t=u?.$el)!=null?t:u}function $(...e){const t=[],u=()=>{t.forEach(n=>n()),t.length=0},p=(n,l,o,s)=>(n.addEventListener(l,o,s),()=>n.removeEventListener(l,o,s)),c=M(()=>{const n=T(x(e[0])).filter(l=>l!=null);return n.every(l=>typeof l!="string")?n:void 0}),r=D(()=>{var n,l;return[(l=(n=c.value)==null?void 0:n.map(o=>Q(o)))!=null?l:[U].filter(o=>o!=null),T(x(c.value?e[1]:e[0])),T(z(c.value?e[2]:e[1])),x(c.value?e[3]:e[2])]},([n,l,o,s])=>{if(u(),!n?.length||!l?.length||!o?.length)return;const v=k(s)?{...s}:s;t.push(...n.flatMap(y=>l.flatMap(f=>o.map(g=>p(y,f,g,v)))))},{flush:"post"}),d=()=>{r(),u()};return G(u),d}function X(){const e=h(!1),t=_();return t&&K(()=>{e.value=!0},t),e}function A(e){const t=X();return M(()=>(t.value,!!e()))}function O(e,t={}){const{controls:u=!1,navigator:p=V}=t,c=A(()=>p&&"permissions"in p),r=h(),d=typeof e=="string"?{name:e}:e,n=h(),l=()=>{var s,v;n.value=(v=(s=r.value)==null?void 0:s.state)!=null?v:"prompt"};$(r,"change",l,{passive:!0});const o=j(async()=>{if(c.value){if(!r.value)try{r.value=await p.permissions.query(d)}catch{r.value=void 0}finally{l()}if(u)return B(r.value)}});return o(),u?{state:n,isSupported:c,query:o}:n}function te(e={}){const{navigator:t=V,read:u=!1,source:p,copiedDuring:c=1500,legacy:r=!1}=e,d=A(()=>t&&"clipboard"in t),n=O("clipboard-read"),l=O("clipboard-write"),o=M(()=>d.value||r),s=h(""),v=h(!1),y=P(()=>v.value=!1,c,{immediate:!1});async function f(){let i=!(d.value&&S(n.value));if(!i)try{s.value=await t.clipboard.readText()}catch{i=!0}i&&(s.value=C())}o.value&&u&&$(["copy","cut"],f,{passive:!0});async function g(i=x(p)){if(o.value&&i!=null){let a=!(d.value&&S(l.value));if(!a)try{await t.clipboard.writeText(i)}catch{a=!0}a&&b(i),s.value=i,v.value=!0,y.start()}}function b(i){const a=document.createElement("textarea");a.value=i??"",a.style.position="absolute",a.style.opacity="0",document.body.appendChild(a),a.select(),document.execCommand("copy"),a.remove()}function C(){var i,a,m;return(m=(a=(i=document?.getSelection)==null?void 0:i.call(document))==null?void 0:a.toString())!=null?m:""}function S(i){return i==="granted"||i==="prompt"}return{isSupported:o,text:s,copied:v,copy:g}}function Y(e){return JSON.parse(JSON.stringify(e))}function ne(e,t,u,p={}){var c,r,d;const{clone:n=!1,passive:l=!1,eventName:o,deep:s=!1,defaultValue:v,shouldEmit:y}=p,f=_(),g=u||f?.emit||((c=f?.$emit)==null?void 0:c.bind(f))||((d=(r=f?.proxy)==null?void 0:r.$emit)==null?void 0:d.bind(f?.proxy));let b=o;b=b||`update:${t.toString()}`;const C=a=>n?typeof n=="function"?n(a):Y(a):a,S=()=>q(e[t])?C(e[t]):v,i=a=>{y?y(a)&&g(b,a):g(b,a)};if(l){const a=S(),m=F(a);let E=!1;return N(()=>e[t],w=>{E||(E=!0,m.value=C(w),J(()=>E=!1))}),N(m,w=>{!E&&(w!==e[t]||s)&&i(w)},{deep:s}),m}else return M({get(){return S()},set(a){i(a)}})}export{te as a,ee as c,ne as u};
